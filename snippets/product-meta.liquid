<div class="rating-share-inline">
  <!-- Judge.me badge -->
  <div class="jdgm-widget jdgm-preview-badge" data-id="add-your-product-id"></div>


  <!-- Share button -->
  <button 
    type="button" 
    class="pmt-btn pmt-share-toggle" 
    aria-label="Share product">
    <svg viewBox="0 0 24 24" width="18" height="18" aria-hidden="true" focusable="false">
      <circle cx="18" cy="5" r="2.5" class="share-dot"/>
      <circle cx="6" cy="12" r="2.5" class="share-dot"/>
      <circle cx="18" cy="19" r="2.5" class="share-dot"/>
      <line x1="8.59" y1="13.51" x2="15.42" y2="17.49" class="share-line"/>
      <line x1="15.41" y1="6.51" x2="8.59" y2="10.49" class="share-line"/>
    </svg>
  </button>
</div>

<style>
.rating-share-inline {
  display: inline-flex;
  align-items: center;
  gap: 8px;
}
.pmt-btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 4px;
  border: none;
  background: transparent;
  border-radius: 50%;
  cursor: pointer;
  transition: background 0.2s ease, transform 0.2s ease;
}
.pmt-btn:hover { background: #f2f2f2; transform: scale(1.05); }
.share-dot { fill: #333; }
.share-line { stroke: #333; stroke-width: 1.5; }
</style>
<script>jdgm = window.jdgm || {};jdgm.SHOP_DOMAIN = 'ishhaara.myshopify.com';jdgm.PLATFORM = 'shopify';jdgm.PUBLIC_TOKEN = 'VF5MlcM6RxmNG3tHlpJtzhFfCLU';</script><script data-cfasync='false' type='text/javascript' async src='https://cdnwidget.judge.me/widget_preloader.js'></script>
<script>
document.addEventListener("DOMContentLoaded", function() {
  // Force Judge.me to refresh (important for custom placements)
  if (window.jdgm && window.jdgm.PRWidgets) {
    window.jdgm.PRWidgets.reload();
  }

  // Share button logic
  const shareBtn = document.querySelector('.pmt-share-toggle');
  if (!shareBtn) return;

  const productTitle = {{ product.title | json }};
  const productUrl = '{{ shop.url }}{{ product.url }}';

  shareBtn.addEventListener('click', e => {
    e.preventDefault();
    if (navigator.share) {
      navigator.share({ title: productTitle, url: productUrl })
        .catch(err => console.warn('Share cancelled or failed:', err));
    } else {
      navigator.clipboard.writeText(productUrl)
        .then(() => alert('Link copied to clipboard!'))
        .catch(() => alert('Sharing not supported on this device.'));
    }
  });
});
</script>
