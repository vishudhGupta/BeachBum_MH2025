{%- comment -%}
  product-details-box.liquid
  - Drop into snippets/ and render with: {% render 'product-details-box' %}
  - Editable content variables are at the top; replace with your own headings/text/icons.
  - On mobile tabs remain visible (compact, horizontally scrollable).
  - Optional: pass accent_color, heading_color, body_color, icon_1/2/3 when rendering.
{%- endcomment -%}

{%- assign accent = accent_color | default: '#000000ff' -%}
{%- assign heading_color = heading_color | default: '#000000ff' -%}
{%- assign body_color = body_color | default: '#516b72' -%}

{%- assign heading_1 = heading_1 | default: "Make One Piece of Jewellery the Focal Point" -%}
{%- assign text_1 = text_1 | default: "Choose one piece of jewellery that becomes the focal point of your look. Be it bold or subtle, pick pieces that match your mood and the vibe you're aiming for." -%}
{%- assign heading_2 = heading_2 | default: "Match Jewellery to Your Outfit for a Harmonized Look" -%}
{%- assign text_2 = text_2 | default: "Select jewellery that complements, rather than clashes with, your outfit. Consider matching the tone, texture, or colour of your jewellery to enhance the overall ensemble." -%}
{%- assign heading_3 = heading_3 | default: "Layer or Stack with Intention for Balanced Appeal" -%}
{%- assign text_3 = text_3 | default: "Layer or stack jewellery pieces thoughtfully—whether it's rings, chains, or other accessories. Mixing different lengths, sizes, or designs creates a coordinated, stylish look without being overdone." -%}

{%- assign icon_1 = icon_1 | default: 'icon_2188045c-6c84-4397-8bc9-e6ef837089a0.png' | file_url -%}
{%- assign icon_2 = icon_2 | default: 'Artboard_7.png' | file_url -%}
{%- assign icon_3 = icon_3 | default: 'Artboard_8.png' | file_url -%}


<div class="pd-tabs-wrap" aria-label="Product details tabs">
  <div class="pd-tabs" role="tablist" aria-orientation="horizontal">
    <button class="pd-tab is-active" data-index="0" role="tab" aria-selected="true" aria-controls="pd-panel-0">
      <img src="{{ icon_1 }}" alt="" class="pd-tab-icon" width="18" height="18" aria-hidden="true">
      <span class="pd-tab-label">Product Features</span>
    </button>
    <button class="pd-tab" data-index="1" role="tab" aria-selected="false" aria-controls="pd-panel-1">
      <img src="{{ icon_2 }}" alt="" class="pd-tab-icon" width="18" height="18" aria-hidden="true">
      <span class="pd-tab-label">Care Label</span>
    </button>
    <button class="pd-tab" data-index="2" role="tab" aria-selected="false" aria-controls="pd-panel-2">
      <img src="{{ icon_3 }}" alt="" class="pd-tab-icon" width="18" height="18" aria-hidden="true">
      <span class="pd-tab-label">Styling Tips</span>
    </button>

   
  </div>

  <div class="pd-panels">
    <div id="pd-panel-0" class="pd-panel" role="tabpanel" aria-hidden="false" data-index="0">
      <div class="pd-card">
        <h4 class="pd-h">Lorem Ipsum</h4>
        <p class="pd-p">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
        </p>
        <h4 class="pd-h">Lorem </h4>
        <p class="pd-p">lorem ipsum </p>
        <h4 class="pd-h">lorem lorem </h4>
        <p class="pd-p">lorem </p>
        <h4 class="pd-h">Versatile Styling</h4>
        <p class="pd-p">Ishhaara's each piece of artificial necklaces for girls like Polki, Meenakari or temple are ideal for making a transition on a range of outfits from casual outings to grand celebrations. These neckpieces can compliment any occasion and mood effortlessly.</p>
      </div>
    </div>

    <div id="pd-panel-1" class="pd-panel" role="tabpanel" aria-hidden="true" data-index="1">
      <div class="pd-card">
        <h4 class="pd-h">
          <img src="{{ 'icon_2188045c-6c84-4397-8bc9-e6ef837089a0.png' | file_url }}" class="pd-heading-icon" alt="Box icon" width="24" height="24">  
        </h4>
        <p class="pd-p">Store the necklaces in an air-tight jewellery box or sealed pouch.</p>

        <h4 class="pd-h">
          <img src="{{ 'Artboard_8.png' | file_url }}" class="pd-heading-icon" alt="Clean icon" width="24" height="24">
        </h4>
        <p class="pd-p">Keep away from sprays, lotions, and perfumes.</p>

        <h4 class="pd-h">
          <img src="{{ 'Artboard_1_copy.png' | file_url }}" class="pd-heading-icon" alt="Warning icon" width="24" height="24">
        </h4>
        <p class="pd-p">Do not clean with detergents, soaps, or toothpaste.</p>
        <h4 class="pd-h">
          <img src="{{ 'Artboard_7.png' | file_url }}" class="pd-heading-icon" alt="Warning icon" width="24" height="24">
        </h4>
        <p class="pd-p">Clean after use with a soft brush.</p>
      </div>
    </div>

    <div id="pd-panel-2" class="pd-panel" role="tabpanel" aria-hidden="true" data-index="2">
      <div class="pd-card">
        <h4 class="pd-h">{{ heading_1 }}</h4>
        <p class="pd-p">{{ text_1 }}</p>
        <div class="pd-split" role="separator"></div>

        <h4 class="pd-h">{{ heading_2 }}</h4>
        <p class="pd-p">{{ text_2 }}</p>
        <div class="pd-split" role="separator"></div>

        <h4 class="pd-h">{{ heading_3 }}</h4>
        <p class="pd-p">{{ text_3 }}</p>
      </div>
    </div>
   
  </div>
</div>

<style>
/* container and variables */
.pd-tabs-wrap { font-family: inherit; margin: 14px 0; --pd-accent: {{ accent }}; }
.pd-tabs { display:flex; gap:18px; align-items:center; margin-bottom:12px; padding:6px 4px; }

/* Make tabs horizontally scrollable on small screens while still looking like tabs */
.pd-tabs {
  overflow-x: auto;
  -webkit-overflow-scrolling: touch;
  scrollbar-width: none; /* firefox */
}
.pd-tabs::-webkit-scrollbar { display: none; } /* webkit */

/* Tab button */
.pd-tab {
  display:flex;
  align-items:center;
  gap:8px;
  background:transparent;
  border:0;
  padding:6px 10px 10px;
  cursor:pointer;
  font-weight:700;
  color:#273238;
  font-size:14px;
  position:relative;
  white-space:nowrap;
  border-radius:6px;
  outline:none;
}
.pd-tab:focus { box-shadow: 0 0 0 3px rgba(34,197,94,0.08); }
.pd-tab-icon { width:18px; height:18px; object-fit:contain; display:block; opacity:0.95; }
.pd-tab.is-active { color: var(--pd-accent); }
.pd-tab.is-active::after{
  content:'';
  position:absolute;
  left:6px;
  bottom:-6px;
  height:4px;
  width:calc(100% - 12px);
  max-width:56px;
  border-radius:6px;
  background: var(--pd-accent);
}

/* Panels */
.pd-panels { max-width:760px; }
.pd-panel { display:none; }
.pd-panel.is-visible { display:block; }

/* Card */
.pd-card {
  border-radius:8px;
  border:1px solid rgba(11,49,64,0.06);
  background:#fff;
  padding:16px;
  box-shadow:0 6px 18px rgba(2,6,23,0.04);
}

/* Headings + paragraphs */
.pd-h {
  margin:0 0 8px 0;
  font-size:13px;
  font-weight:800;
  text-transform:uppercase;
  letter-spacing:0.02em;
  color: {{ heading_color }};
  display:flex;
  align-items:center;
  gap:8px;
  border-bottom:2px solid transparent;
  padding-bottom:6px;
}

.pd-heading-icon {
  width: 24px;
  height: 24px;
  object-fit: contain;
  display: inline-block;
  vertical-align: middle;
}
.pd-p {
  margin:0 0 14px 0;
  color: {{ body_color }};
  font-size:14px;
  line-height:1.5;
}

/* separators */
.pd-split { height:1px; background:rgba(11,49,64,0.06); margin:10px 0; }

/* Responsive: keep tabs visible and compact on mobile */
@media (max-width: 640px){
  .pd-tabs { gap:12px; padding:8px 6px; margin-bottom:10px; }
  .pd-tab { padding:6px 8px; font-size:13px; gap:6px; border-radius:6px; }
  .pd-tab-icon { width:16px; height:16px; }
  .pd-tab.is-active::after { bottom:-5px; height:3px; left:6px; width:calc(100% - 12px); max-width:44px; }
  .pd-card { padding:12px; }
  .pd-h { font-size:12px; }
  .pd-p { font-size:13px; }
}
</style>

<script>
document.addEventListener('DOMContentLoaded', function(){
  // scope to each wrapper so this can appear multiple times on page
  document.querySelectorAll('.pd-tabs-wrap').forEach(function(wrap){
    var tabs = Array.prototype.slice.call(wrap.querySelectorAll('.pd-tab'));
    var panels = Array.prototype.slice.call(wrap.querySelectorAll('.pd-panel'));

    if(!tabs.length || !panels.length) return;

    // activate: only scroll when shouldScroll === true
    function activate(idx, shouldScroll){
      tabs.forEach(function(t,i){
        var active = i === idx;
        t.classList.toggle('is-active', active);
        t.setAttribute('aria-selected', active ? 'true' : 'false');
      });
      panels.forEach(function(p,i){
        var visible = i === idx;
        p.classList.toggle('is-visible', visible);
        p.setAttribute('aria-hidden', visible ? 'false' : 'true');
      });

      // ensure active tab is visible in scroll container (mobile) ONLY for user actions
      if (shouldScroll) {
        var activeTab = tabs[idx];
        if(activeTab && activeTab.scrollIntoView){
          // center a bit: align nearest with smooth behavior (modern browsers)
          try { activeTab.scrollIntoView({ behavior: 'smooth', inline: 'center', block: 'nearest' }); } catch(e){ activeTab.scrollIntoView(); }
        }
      }
    }

    tabs.forEach(function(tab, idx){
      tab.addEventListener('click', function(e){
        e.preventDefault();
        activate(idx, true); // user clicked - allow scrollIntoView
      });
      tab.addEventListener('keydown', function(e){
        if(e.key === 'ArrowRight') { activate((idx+1) % tabs.length, true); tabs[(idx+1) % tabs.length].focus(); }
        if(e.key === 'ArrowLeft')  { activate((idx-1+tabs.length) % tabs.length, true); tabs[(idx-1+tabs.length) % tabs.length].focus(); }
      });
    });

    // ensure initial state correct — do NOT scroll on load
    var start = tabs.findIndex(function(t){ return t.classList.contains('is-active'); });
    if(start < 0) start = 0;
    activate(start, false); // <-- important: false prevents initial scrollIntoView
  });
});
</script>
