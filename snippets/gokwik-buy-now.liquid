<script>
function handleBuyNow(btn) {
  const groups = [...new Set(
    [...document.querySelectorAll('input[type="radio"][name^="globo-option-"]')]
      .map(i => i.name)
  )];

  let hasError = false;

  groups.forEach(name => {
    const selected = document.querySelector(`input[name="${name}"]:checked`);
    const errorDiv = document.querySelector(
      `.errorOptions[data-nameinput="${name}"]`
    );

    if (!selected) {
      hasError = true;
      if (errorDiv) {
        errorDiv.innerText = 'This field is required';
        errorDiv.style.display = 'block';
      }
    } else if (errorDiv) {
      errorDiv.innerText = '';
      errorDiv.style.display = 'none';
    }
  });

  if (hasError) {
    alert('Please select all options');
    return;
  }

  onBuyNowClick(btn);
}
</script>
{% if settings.goBuynowEnable %}           
<button type="button" class="button disabled" disabled onclick="handleBuyNow(this)" id="gokwik-buy-now"{% if settings.hideFlow %} style="display:none !important;" {% endif %}>
  <div style="display:none" class="addloadr" id="btn-loader">
    <div class="cir-loader">Loading..</div>
  </div>
  <span class="btn-text">
    <span>{{ settings.buyNowText }}</span>
    <span>{{ settings.sub-titile }}</span>
  </span>
  {% if settings.enableLogo %}
  <span class="pay-opt-icon">
      <img src="https://cdn.gokwik.co/v4/images/upi-icons.svg">
      <img src="https://cdn.gokwik.co/v4/images/right-arrow.svg">
  </span>
  {% endif %}
</button>
{% endif %}











